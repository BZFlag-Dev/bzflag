<?xml version='1.0' encoding='UTF-8'?>
<world>

  <addon>
    <plugin>crystalspace.renderloop.loop.loader</plugin>
    <paramsfile>renderloop.hi.xml</paramsfile>
  </addon>

  <plugins>
    <plugin name="genmeshfact">crystalspace.mesh.loader.factory.genmesh</plugin>
    <plugin name="genmesh">crystalspace.mesh.loader.genmesh</plugin>
  </plugins>

  <library>materials.hi.xml</library>

  <meshfact name='terrain'>
    <plugin>genmeshfact</plugin>
    <params>
      <material>grass</material>
      <v x="800" y="0" z="800" u="-50" v="-50" nx="0" ny="1" nz="-0"/>
      <v x="-800" y="0" z="800" u="-50" v="50" nx="0" ny="1" nz="-0"/>
      <v x="-800" y="0" z="-800" u="50" v="50" nx="0" ny="1" nz="-0"/>
      <v x="800" y="0" z="-800" u="50" v="-50" nx="0" ny="1" nz="-0"/>
      <t v1="3" v2="2" v3="1"/>
      <t v1="3" v2="1" v3="0"/>
    </params>
  </meshfact>

  <meshfact name='mountains'>
    <plugin>genmeshfact</plugin>
    <params>
      <v x="800" y="0" z="-800" u="0.000000" v="-0.100000" nx="-0.707083" ny="0" nz="0.707083"/>
      <v x="-800" y="0" z="-800" u="1.000000" v="-0.100000" nx="0.707083" ny="0" nz="0.707083"/>
      <v x="-800" y="100" z="-800" u="1.000000" v="-0.900000" nx="0.707083" ny="0" nz="0.707083"/>
      <v x="800" y="100" z="-800" u="0.000000" v="-0.900000" nx="-0.707083" ny="0" nz="0.707083"/>
      <t v1="3" v2="2" v3="1"/>
      <t v1="3" v2="1" v3="0"/>
      <v x="800" y="100" z="-800" u="1.000000" v="-0.900000" nx="-0.707083" ny="0" nz="0.707083"/>
      <v x="800" y="100" z="800" u="0.000000" v="-0.900000" nx="-0.707083" ny="0" nz="-0.707083"/>
      <v x="800" y="0" z="800" u="0.000000" v="-0.100000" nx="-0.707083" ny="0" nz="-0.707083"/>
      <v x="800" y="0" z="-800" u="1.000000" v="-0.100000" nx="-0.707083" ny="0" nz="0.707083"/>
      <t v1="7" v2="6" v3="5"/>
      <t v1="7" v2="5" v3="4"/>
      <v x="800" y="100" z="800" u="1.000000" v="-0.900000" nx="-0.707083" ny="0" nz="-0.707083"/>
      <v x="-800" y="100" z="800" u="0.000000" v="-0.900000" nx="0.707083" ny="0" nz="-0.707083"/>
      <v x="-800" y="0" z="800" u="0.000000" v="-0.100000" nx="0.707083" ny="0" nz="-0.707083"/>
      <v x="800" y="0" z="800" u="1.000000" v="-0.100000" nx="-0.707083" ny="0" nz="-0.707083"/>
      <t v1="11" v2="10" v3="9"/>
      <t v1="11" v2="9" v3="8"/>
      <v x="-800" y="0" z="-800" u="0.000000" v="-0.100000" nx="0.707083" ny="0" nz="0.707083"/>
      <v x="-800" y="0" z="800" u="1.000000" v="-0.100000" nx="0.707083" ny="0" nz="-0.707083"/>
      <v x="-800" y="100" z="800" u="1.000000" v="-0.900000" nx="0.707083" ny="0" nz="-0.707083"/>
      <v x="-800" y="100" z="-800" u="0.000000" v="-0.900000" nx="0.707083" ny="0" nz="0.707083"/>
      <t v1="15" v2="14" v3="13"/>
      <t v1="15" v2="13" v3="12"/>
      <submesh>
        <indexbuffer components="1" type="uint" indices="yes">
          <e c0="3"/>
          <e c0="2"/>
          <e c0="1"/>
          <e c0="3"/>
          <e c0="1"/>
          <e c0="0"/>
          <e c0="11"/>
          <e c0="10"/>
          <e c0="9"/>
          <e c0="11"/>
          <e c0="9"/>
          <e c0="8"/>
        </indexbuffer>
        <material>mountain1</material>
      </submesh>
      <submesh>
        <indexbuffer components="1" type="uint" indices="yes">
          <e c0="7"/>
          <e c0="6"/>
          <e c0="5"/>
          <e c0="7"/>
          <e c0="5"/>
          <e c0="4"/>
        </indexbuffer>
        <material>mountain3</material>
      </submesh>
      <submesh>
        <indexbuffer components="1" type="uint" indices="yes">
          <e c0="15"/>
          <e c0="14"/>
          <e c0="13"/>
          <e c0="15"/>
          <e c0="13"/>
          <e c0="12"/>
        </indexbuffer>
        <material>mountain2</material>
      </submesh>
    </params>
    <zuse/>
  </meshfact>

  <meshfact file="tank.xml"/>

  <meshfact name="sky">
    <plugin>genmeshfact</plugin>
    <params>
      <sphere rimvertices="64" reversed="true">
        <radius x="50000" y="50000" z="50000" />
      </sphere>
    </params>
  </meshfact>

  <sector name="room">

    <ambient red="0.3" green="0.3" blue="0.3" />

    <light name="sun">
      <center x="500000" y="200000" z="0"/>
      <color red="1.5" green="1.3" blue="1.0"/>
      <radius>10000000</radius>
      <influenceradius>10000000</influenceradius>
    </light>

    <meshobj name="sky">
      <plugin>genmesh</plugin>
      <params>
        <factory>sky</factory>
        <material>sky</material>
        <color red="1.0" green="1.0" blue="1.0"/>
      </params>
      <priority>sky</priority>
      <camera/>
      <zfill/>
      <nohitbeam/>
      <noshadows/>
      <staticshape/>
      <polymesh><colldet/></polymesh>
    </meshobj>

    <meshobj name="terrain">
      <plugin>genmesh</plugin>
      <params>
        <factory>terrain</factory>
      </params>
      <priority>wall</priority>
      <zuse/>
      <staticpos/>
      <staticshape/>
      <noshadows/>
    </meshobj>

    <meshobj name="mountains">
      <plugin>genmesh</plugin>
      <params>
        <factory>mountains</factory>
      </params>
      <priority>wall</priority>
      <zuse/>
      <staticpos/>
      <staticshape/>
      <noshadows/>
    </meshobj>
  </sector>

  <start>
    <sector>room</sector>
    <position x="0" y="1" z="0" />
  </start>

</world>
