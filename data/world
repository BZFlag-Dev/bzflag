<?xml version='1.0' encoding='UTF-8'?>
<world>

  <addon>
    <plugin>crystalspace.renderloop.loop.loader</plugin>
    <paramsfile>renderloop.hi.xml</paramsfile>
  </addon>

  <settings>
    <clearzbuf>no</clearzbuf>
    <clearscreen>yes</clearscreen>
    <renderloop>renderloop</renderloop>
  </settings>

  <plugins>
    <plugin name="genmeshfact">crystalspace.mesh.loader.factory.genmesh</plugin>
    <plugin name="genmesh">crystalspace.mesh.loader.genmesh</plugin>
  </plugins>

  <library>materials.hi.xml</library>

  <meshfact name='terrain'>
    <plugin>genmeshfact</plugin>
    <params>
      <material>grass</material>
      <v x="800" y="0" z="800" u="-50" v="-50" nx="0" ny="1" nz="-0"/>
      <v x="-800" y="0" z="800" u="-50" v="50" nx="0" ny="1" nz="-0"/>
      <v x="-800" y="0" z="-800" u="50" v="50" nx="0" ny="1" nz="-0"/>
      <v x="800" y="0" z="-800" u="50" v="-50" nx="0" ny="1" nz="-0"/>
      <t v1="3" v2="2" v3="1"/>
      <t v1="3" v2="1" v3="0"/>
    </params>
  </meshfact>

  <meshfact file="tank.xml"/>

  <meshfact name="sky">
    <plugin>genmeshfact</plugin>
    <params>
      <sphere rimvertices="64" reversed="true">
        <radius x="50000" y="50000" z="50000" />
      </sphere>
    </params>
  </meshfact>

  <sector name="room">

    <ambient red="0.3" green="0.3" blue="0.3" />

    <light name="sun">
      <center x="500000" y="200000" z="0"/>
      <color red="1.5" green="1.3" blue="1.0"/>
      <radius>10000000</radius>
      <influenceradius>10000000</influenceradius>
    </light>

    <meshobj name="sky">
      <plugin>genmesh</plugin>
      <params>
        <factory>sky</factory>
        <material>sky</material>
        <color red="1.0" green="1.0" blue="1.0"/>
      </params>
      <priority>sky</priority>
      <camera/>
      <zfill/>
      <nohitbeam/>
      <noshadows/>
      <staticshape/>
      <polymesh><colldet/></polymesh>
    </meshobj>

    <meshobj name="terrain">
      <plugin>genmesh</plugin>
      <params>
        <factory>terrain</factory>
      </params>
      <priority>wall</priority>
      <zuse/>
      <staticpos/>
      <staticshape/>
    </meshobj>

    <meshobj name="walls">
      <plugin>crystalspace.mesh.loader.thing</plugin>
      <params>
        <v x="-400" y="0" z=" 400" />
        <v x=" 400" y="0" z=" 400" />
        <v x="-400" y="0" z="-400" />
        <v x=" 400" y="0" z="-400" />
        <v x="-400" y="8" z=" 400" />
        <v x=" 400" y="8" z=" 400" />
        <v x="-400" y="8" z="-400" />
        <v x=" 400" y="8" z="-400" />
        <material>stone</material>
        <texlen>15</texlen>
        <p name="back">
          <v>7</v> <v>6</v> <v>2</v> <v>3</v>
        </p>
        <p name="front">
          <v>4</v> <v>5</v> <v>1</v> <v>0</v>
        </p>
        <p name="left">
          <v>6</v> <v>4</v> <v>0</v> <v>2</v>
        </p>
        <p name="right">
          <v>5</v> <v>7</v> <v>3</v> <v>1</v>
        </p>
      </params>
      <zuse/>
      <priority>wall</priority>
      <staticpos/>
      <staticshape/>
    </meshobj>
  </sector>

  <start>
    <sector>room</sector>
    <position x="0" y="1" z="0" />
  </start>

</world>
