if CLIENT_INCLUDED
bin_PROGRAMS = bzflag
endif

MAINTAINERCLEANFILES = \
	Makefile.in

bzflag_SOURCES =			\
	MainWindow.cxx			\
	MainWindow.h			\
	ControlPanel.cxx		\
	ControlPanel.h			\
	World.cxx			\
	World.h				\
	SceneBuilder.cxx		\
	SceneBuilder.h			\
	SceneRenderer.cxx		\
	BackgroundRenderer.cxx		\
	BackgroundRenderer.h		\
	CommandsStandard.cxx		\
	RadarRenderer.cxx		\
	RadarRenderer.h			\
	HUDRenderer.cxx			\
	HUDRenderer.h			\
	HUDui.cxx			\
	HUDui.h				\
	ShotPath.cxx			\
	ShotPath.h			\
	ShotStrategy.cxx		\
	ShotStrategy.h			\
	Region.cxx			\
	Region.h			\
	Player.cxx			\
	Player.h			\
	playing.cxx			\
	playing.h			\
	LocalPlayer.cxx			\
	LocalPlayer.h			\
	RemotePlayer.cxx		\
	RemotePlayer.h			\
	WorldPlayer.cxx			\
	WorldPlayer.h			\
	RobotPlayer.cxx			\
	RobotPlayer.h			\
	ServerLink.cxx			\
	ServerLink.h			\
	callbacks.h			\
	callbacks.cxx			\
	daylight.cxx			\
	daylight.h			\
	texture.cxx			\
	sound.cxx			\
	sound.h				\
	bzflag.cxx			\
	HUDDialog.cxx			\
	HUDDialog.h			\
	menus.cxx			\
	menus.h				\
	ServerListCache.cxx		\
	ServerListCache.h		\
	ActionBinding.cxx		\
	ActionBinding.h			\
	TextureManager.cxx

noinst_HEADERS = \
	stars.cxx

if WIN32
RESOURCE = bzflag.res
else
RESOURCE =
endif

if MACOS
LDADD =	\
	../net/libNet.a			\
	../common/libCommon.a		\
	../obstacle/libObstacle.a	\
	../platform/MacOSX/libMac.a	\
	../platform/libPlatform.a	\
	../ogl/libGLKit.a		\
	../scene/libSceneDB.a		\
	../geometry/libGeometry.a	\
	../mediafile/libMediaFile.a	\
	../zlib/libz.a			\
	$(RESOURCE)			\
	$(GLIBS)
# This is required to hook in ogg/vorbis libraries
#	$(ALIBS)
else
LDADD =	\
	../net/libNet.a			\
	../common/libCommon.a		\
	../obstacle/libObstacle.a	\
	../platform/libPlatform.a	\
	../ogl/libGLKit.a		\
	../scene/libSceneDB.a		\
	../geometry/libGeometry.a	\
	../mediafile/libMediaFile.a	\
	../zlib/libz.a			\
	$(RESOURCE)			\
	$(GLIBS)
# This is required to hook in ogg/vorbis libraries
#	$(ALIBS)
endif

AM_CPPFLAGS = $(X_CFLAGS)

bzflag_LDFLAGS = ../date/buildDate.o

bzflag.res: $(srcdir)/bzflag.rc $(srcdir)/bzflag.ico
	windres -include-dir=$(srcdir) -i $(srcdir)/bzflag.rc -o bzflag.res \
	-O coff
